<% provide(:title, "GameDataBase") %>

<p id="notice"><%= notice %></p>

<h1>ゲームデータベース</h1>

<table>
  <thead>
    <tr>
      <th>Name jp</th>
      <th>Name en</th>
	  <th>ジャンル</th>
	  <th>プラットフォーム</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @game_infos.each do |game_info| %>
      <tr>
        <td><%= game_info.name_jp %></td>
        <td><%= game_info.name_en %></td>
		<td>
			<% if game_info.game_genres != nil %>
				<% game_info.game_genres.each do |game_genre| %>
				  <%= game_genre.name_jp if game_genre != nil %>
		  		<% end %>
		  <% end %>
		</td>
		<td>
			<% if game_info.game_platforms != nil %>
				<% game_info.game_platforms.each do |game_platform| %>
				  <%= game_platform.name_en if game_platform != nil %>
		  		<% end %>
		  <% end %>
		</td>
        <td><%= link_to 'Show', game_info %></td>
        <td><%= link_to 'Edit', edit_game_info_path(game_info) %></td>
        <td><%= link_to 'Destroy', game_info, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Game info', new_game_info_path %>
